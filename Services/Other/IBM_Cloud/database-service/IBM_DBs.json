{
  "service": {
    "version": "1.0.0.0",
    "specVersion": "v3",
    "catalog_metadata": {
      "name": "IBM Databases service",
      "description": "Service to create an instance of the IBM Databases service.",
      "image": "serviceicon_1.svg",
      "category": "Cloud Services",
      "bullets": [],
      "providerDisplayName": "IBM",
      "longDescription": "Service allows user to create a databases instance from the list of IBM Databases services.",
      "documentationUrl": "",
      "supportUrl": "",
      "bindable": false,
      "updatable": "",
      "systemTags": true
    },
    "tags": [
      {
        "name": "environment",
        "label": "Environment",
        "type": "string",
        "immutable": false,
        "hidden": false,
        "required": true,
        "secured": false,
        "description": "Unique identifer added to the provisioned VMs.",
        "isSystemTag": true,
        "customtype": "string",
        "permission": "Read-Write",
        "options": [
          {
            "label": "Development",
            "value": "dev",
            "default": true
          },
          {
            "label": "Quality Assurance",
            "value": "qa",
            "default": false
          },
          {
            "label": "Production",
            "value": "prod",
            "default": false
          },
          {
            "label": "Test",
            "value": "test",
            "default": false
          }
        ]
      },
      {
        "name": "Name",
        "label": "Name",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "Name provided for the service instance by the end user at time of request",
        "isSystemTag": true,
        "customtype": "string",
        "permission": "Read-Only",
        "default": "${svc_instance.name}"
      },
      {
        "name": "request_group",
        "label": "request_group",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "The current context group id of the current user that requested the provisioning of the template. This is important because a user may be part of more than one group and this identifies the context of which group the user made the request.",
        "isSystemTag": true,
        "customtype": "string",
        "permission": "Read-Only",
        "default": "${svc_instance.group}"
      },
      {
        "name": "request_user",
        "label": "request_user",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "The user id of the current user that requested the provisioning of the template.",
        "isSystemTag": true,
        "customtype": "string",
        "permission": "Read-Only",
        "default": "${svc_instance.owner}"
      },
      {
        "name": "service_name",
        "label": "service_name",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "Name provided for the service instance by the end user at time of request",
        "isSystemTag": true,
        "customtype": "string",
        "permission": "Read-Only",
        "default": "${svc_instance.name}"
      },
      {
        "name": "service_identifier",
        "label": "service_identifier",
        "type": "string",
        "immutable": true,
        "hidden": false,
        "required": false,
        "secured": false,
        "description": "Unique identifer generated by ICAM which is mapped to the service instance of the template provisioned.",
        "isSystemTag": true,
        "customtype": "string",
        "permission": "Read-Only",
        "default": "${svc_instance.service_instance_id}"
      }
    ],
    "upgrade_from": [],
    "downgrade_to": [],
    "actions": [
      {
        "type": "provision",
        "name": "Provision",
        "description": "Default action for deployment of service",
        "input_parameters": [
          {
            "name": "Connection",
            "label": "Cloud Connection",
            "customtype": "connection",
            "type": "connection",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "description": "",
            "view": "create new",
            "editable": true,
            "default": "",
            "provider": "IBM"
          },
          {
            "name": "resource_group",
            "label": "Resource Group",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "description": "IBM Cloud resource group.",
            "view": "create new",
            "editable": true
          },
          {
            "name": "db_location",
            "label": "Region",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "description": "IBM Cloud region.",
            "view": "create new",
            "editable": true,
            "options": [
              {
                "label": "US South",
                "value": "us-south",
                "default": true
              },
              {
                "label": "US East",
                "value": "us-east",
                "default": false
              },
              {
                "label": "Sydney",
                "value": "au-syd",
                "default": false
              },
              {
                "label": "Germany",
                "value": "eu-de",
                "default": false
              },
              {
                "label": "United Kingdom",
                "value": "eu-gb",
                "default": false
              },
              {
                "label": "Tokyo",
                "value": "jp-tok",
                "default": false
              },
              {
                "label": "Oslo",
                "value": "oslo01",
                "default": false
              }
            ]
          },
          {
            "name": "db_service",
            "label": "Database Service",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "description": "IBM Database Service to use.",
            "view": "create new",
            "editable": true,
            "options": [
              {
                "label": "MongoDB",
                "value": "databases-for-mongodb",
                "default": true
              },
              {
                "label": "PostgreSQL",
                "value": "databases-for-postgresql",
                "default": false
              },
              {
                "label": "Redis",
                "value": "databases-for-redis",
                "default": false
              },
              {
                "label": "etcd",
                "value": "databases-for-etcd",
                "default": false
              },
              {
                "label": "EnterpriseDB",
                "value": "databases-for-enterprisedb",
                "default": false
              },
              {
                "label": "Elasticsearch",
                "value": "databases-for-elasticsearch",
                "default": false
              },
              {
                "label": "DataStax",
                "value": "databases-for-datastax",
                "default": false
              }
            ]
          },
          {
            "name": "db_plan",
            "label": "Service plan",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "description": "Plan for the Database Service.",
            "view": "create new",
            "editable": true,
            "default": "standard"
          },
          {
            "name": "db_version",
            "label": "Service version",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "The version of the database to be provisioned. If omitted, the database is created with the most recent major and minor version.",
            "view": "create new",
            "editable": true,
            "default": ""
          },
          {
            "name": "db_instance_name",
            "label": "Database instance name",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": false,
            "description": "Database service instance name.",
            "view": "create new",
            "editable": true,
            "default": "",
            "regex": "^[A-Za-z][A-Za-z0-9]*$",
            "regexdesc": "Must begin with a letter and contain only alphanumeric characters.",
            "passbyname": false,
            "dynamicDetails": {},
            "isDynamic": false
          },
          {
            "name": "db_admin_password",
            "label": "Database admin password",
            "customtype": "password",
            "type": "password",
            "immutable": false,
            "hidden": false,
            "required": true,
            "secured": true,
            "description": "The password for the database administrator.",
            "view": "create new",
            "editable": true,
            "regex": "^((?!['\"/@])[\\x00-\\x7F]){10,32}$",
            "regexdesc": "At least 10 ASCII characters and maximum of 32 characters. Can't contain any of the following: forward slash, single quote, double quote and @.",
            "default": "",
            "passbyname": false,
            "dynamicDetails": {},
            "isDynamic": false
          },
          {
            "name": "members_memory_allocation_mb",
            "label": "Memory allocation (in megabytes)",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "The amount of memory in megabytes for the database, split across all members.",
            "view": "create new",
            "editable": true,
            "default": ""
          },
          {
            "name": "members_disk_allocation_mb",
            "label": "Disk allocation (in megabytes)",
            "customtype": "string",
            "type": "string",
            "immutable": false,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "The amount of disk space for the database, split across all members.",
            "view": "create new",
            "editable": true,
            "default": ""
          }
        ],
        "flow": {
          "conditions": [],
          "templates": [
            {
              "IBM Database Service": {
                "title": "IBM Database Service_1f1df9",
                "template_name": "IBM Database Service",
                "version": "2.4",
                "id": "ibmdataba1aa7f4c",
                "template_type": "Terraform",
                "template_content_type": "IBM",
                "template_provider": "IBM",
                "instance_name": "",
                "template_data_objects": {},
                "template_params": {
                  "resource_group": "${input_parameters.resource_group}",
                  "db_location": "${input_parameters.db_location}",
                  "db_service": "${input_parameters.db_service}",
                  "db_plan": "${input_parameters.db_plan}",
                  "db_version": "${input_parameters.db_version}",
                  "db_instance_name": "${input_parameters.db_instance_name}",
                  "db_admin_password": "${input_parameters.db_admin_password}",
                  "members_memory_allocation_mb": "${input_parameters.members_memory_allocation_mb}",
                  "members_disk_allocation_mb": "${input_parameters.members_disk_allocation_mb}"
                },
                "outputs": [
                  "db_admin_user",
                  "db_certname",
                  "db_certbase64",
                  "db_connection_composed",
                  "db_database_name",
                  "db_database_path",
                  "db_hosts",
                  "db_version"
                ],
                "editable": true,
                "cloud_connection_names": [
                  {
                    "provider": "IBM",
                    "connection_name": "IBM_Chin"
                  }
                ],
                "provider_engine_version": "0.12.21"
              }
            }
          ],
          "resthooks": [],
          "notifications": [],
          "sequence": {
            "0": "ibmdataba1aa7f4c"
          },
          "error_sequence": {}
        },
        "output_parameters": [
          {
            "name": "db_connection_composed",
            "label": "Connection string",
            "customtype": "string",
            "type": "string",
            "immutable": true,
            "hidden": false,
            "required": false,
            "secured": false,
            "description": "DB Connection string",
            "default": "${templates.ibmdataba1aa7f4c.output.db_connection_composed}",
            "editable": true
          }
        ]
      }
    ],
    "plans": [
      {
        "name": "Standard",
        "description": "To deploy a Standard plan",
        "actions": [],
        "plan_parameters": []
      }
    ]
  }
}
